//XMLHttpRequest

function retrieve(url){
  return new Promise((resolve,reject) => {
    const xhr = new XMLHttpRequest();
    xhr.onload = () => resolve(xhr.response);
    xhr.onerror = () => reject("request failed"+ xhr.response)
    xhr.open('GET',url)
    xhr.send()

});
}

const n= getAllUrlParams().n||50
const url = getAllUrlParams().url || 'https://random.dog/woof.json'

async function asyncTask(){
  for (let i=0; i<n; i++){
    console.log(i+1);
    console.log(await retrieve(url));
  }
}
asyncTask();